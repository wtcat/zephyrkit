
#======================
# ARM options
#======================
CONFIG_NULL_POINTER_EXCEPTION_DETECTION_MPU=y

#======================
# Kernel
#======================
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SCHED_MULTIQ=y
CONFIG_THREAD_MONITOR=y
CONFIG_THREAD_NAME=y
CONFIG_THREAD_RUNTIME_STATS=y
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_KERNEL_MEM_POOL=y
CONFIG_HEAP_MEM_POOL_SIZE=16384

#======================
# Cache
#======================
CONFIG_CACHE_MANAGEMENT=y

#======================
# FPU
#======================
CONFIG_FPU=y
CONFIG_FPU_SHARING=y

#======================
# Subsystem
#======================

# BLE-HOST
CONFIG_BT=y
CONFIG_BT_HCI=y

CONFIG_BT_DEVICE_NAME_DYNAMIC=y
CONFIG_BT_DEVICE_NAME_MAX=32
CONFIG_BT_DEVICE_NAME="NordicBLE"
CONFIG_BT_COMPANY_ID=0x05F1

CONFIG_BT_DEBUG_LOG=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DIS=y
CONFIG_BT_HCI_ACL_FLOW_CONTROL=y
CONFIG_BT_PHY_UPDATE=y
CONFIG_BT_DATA_LEN_UPDATE=y
CONFIG_BT_SMP=y

CONFIG_BT_L2CAP_TX_BUF_COUNT=6
CONFIG_BT_L2CAP_TX_FRAG_COUNT=4
CONFIG_BT_L2CAP_TX_MTU=256

CONFIG_BT_GATT_SERVICE_CHANGED=y
CONFIG_BT_GATT_CLIENT=y
CONFIG_BT_GATT_READ_MULTIPLE=y

CONFIG_BT_GAP_AUTO_UPDATE_CONN_PARAMS=y
CONFIG_BT_GAP_PERIPHERAL_PREF_PARAMS=y
CONFIG_BT_PERIPHERAL_PREF_MIN_INT=24
CONFIG_BT_PERIPHERAL_PREF_MAX_INT=40
CONFIG_BT_PERIPHERAL_PREF_LATENCY=0
CONFIG_BT_PERIPHERAL_PREF_TIMEOUT=42

CONFIG_BT_HCI_VS=y
CONFIG_BT_HCI_VS_EXT=y
CONFIG_BT_RX_STACK_SIZE=2048
#CONFIG_BT_SHELL=y

# USB
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_MAX_NUM_TRANSFERS=8
CONFIG_USB_REQUEST_BUFFER_SIZE=512
CONFIG_USB_MASS_STORAGE=y
CONFIG_MASS_STORAGE_DISK_NAME="NAND"
CONFIG_USB_DEVICE_MANUFACTURER="Nordic"
CONFIG_MASS_STORAGE_INQ_VENDOR_ID="Norflash"
CONFIG_MASS_STORAGE_INQ_PRODUCT_ID="USB-Disk        "
CONFIG_USB_DEVICE_VID=0xFFFF
CONFIG_USB_DEVICE_PID=0x1234

#Flash map
CONFIG_FLASH_MAP=y

# Filesystem
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_SHELL=y

# Little fs
# CONFIG_FILE_SYSTEM_LITTLEFS=y
# CONFIG_FS_LITTLEFS_NUM_FILES=4
# CONFIG_FS_LITTLEFS_NUM_DIRS=4
# CONFIG_FS_LITTLEFS_READ_SIZE=512
# CONFIG_FS_LITTLEFS_PROG_SIZE=512
# CONFIG_FS_LITTLEFS_CACHE_SIZE=4096
# CONFIG_FS_LITTLEFS_LOOKAHEAD_SIZE=128

# Fat
CONFIG_FAT_FILESYSTEM_ELM=y
CONFIG_FS_FATFS_EXFAT=y
CONFIG_FS_FATFS_NUM_FILES=4
CONFIG_FS_FATFS_NUM_DIRS=4
CONFIG_FS_FATFS_LFN=y
CONFIG_FS_FATFS_LFN_MODE_HEAP=y


# Shell
CONFIG_SHELL=y
#CONFIG_UART_SHELL_ON_DEV_NAME="UART_0"

# System monitor
CONFIG_THREAD_ANALYZER=y

# Statistics support
CONFIG_STATS=y
CONFIG_STATS_NAMES=y

#=======================
# Device drivers
#=======================

#Flash driver
CONFIG_FLASH=y
#CONFIG_FLASH_HAS_PAGE_LAYOUT=y
CONFIG_NORDIC_QSPI_NOR=y
CONFIG_NORDIC_QSPI_NOR_FLASH_LAYOUT_PAGE_SIZE=4096

# Disk driver for flash
CONFIG_DISK_DRIVER_FLASH=y
CONFIG_DISK_FLASH_VOLUME_NAME="NAND"
CONFIG_DISK_FLASH_DEV_NAME="MX25R64"
CONFIG_DISK_FLASH_START=0x0
CONFIG_DISK_FLASH_MAX_RW_SIZE=512
CONFIG_DISK_FLASH_ERASE_ALIGNMENT=0x1000
CONFIG_DISK_ERASE_BLOCK_SIZE=0x1000
CONFIG_DISK_FLASH_SECTOR_SIZE=512
CONFIG_DISK_VOLUME_SIZE=0x800000

# BT
CONFIG_BT_RPMSG=y
CONFIG_BT_RPMSG_NRF53=y
CONFIG_BT_DRIVER_QUIRK_NO_AUTO_DLE=y

# IPM
CONFIG_IPM=y
CONFIG_IPM_NRFX=y
CONFIG_IPM_MSG_CH_0_ENABLE=y
CONFIG_IPM_MSG_CH_0_TX=y
CONFIG_IPM_MSG_CH_1_ENABLE=y
CONFIG_IPM_MSG_CH_1_RX=y

# PWM
CONFIG_PWM=y
CONFIG_PWM_NRFX=y
CONFIG_PWM_SHELL=y

# USB
CONFIG_USB_DEVICE_DRIVER=y
CONFIG_USB_NRFX=y

# Kscan
CONFIG_KSCAN=y

#=======================
# C Library
#=======================
CONFIG_NEWLIB_LIBC=y


#=======================
# Compile options
#=======================
# CONFIG_SPEED_OPTIMIZATIONS=y
CONFIG_DEBUG_OPTIMIZATIONS=y


#=========================
# RootKit
#=========================

# Drivers
#CONFIG_GPIO_KEYS=y

# Lib
CONFIG_CORTEXM_BACKTRACE=y

CONFIG_USER_SYSTEM_INIT=y
CONFIG_USER_FS_MOUNT=y

# Subsystem
CONFIG_USER_SUBSYSTEM=y
CONFIG_BDBUF=y